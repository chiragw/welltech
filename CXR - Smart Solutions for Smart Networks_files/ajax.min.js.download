
function msgbox(c,a,b){$(c).hide();$(c).html(b);if(a){$(c).addClass("alert alert-danger")}else{$(c).removeClass("alert alert-danger").addClass("alert alert-success")}$(c).fadeIn("fast")}function ajax_form(b,c,a,d){$(b).submit(function(){$.ajax({type:"post",url:a,data:$(this).serialize(),dataType:"json",success:function(e){msgbox(c,e.errorcode,e.errormsg);if(e.errorcode==false){vider_formulaire(b)}if(e.errorcode==false&&d!=true&&d!=false){$(location).attr("href",d)}if(e.errorcode==false&&d==true){location.reload()}},error:function(g,e,f){msgbox(c,1,"Error : "+g.responseText+" "+e+" "+g.status+" "+f)}});return false})}function getDoc(b,a){$.ajax({type:"post",url:"/public/ajax/documents.ajax.php?method=getLangue",data:{id:b,nom:a},dataType:"json",success:function(c){$("#result_documents").html(c.tpl)},error:function(e,c,d){alert("Error : "+e.responseText+" "+c+" "+e.status+" "+d)}})}function getLangue(b,a){$.ajax({type:"post",url:"/public/ajax/documents.ajax.php?method=getCategories",data:{id:b,id_doc:a},dataType:"json",success:function(c){if(c.errorcode==false){$("#result_cat").html(c.tpl)}else{msgbox("#result_cat",c.errorcode,c.errormsg)}},error:function(e,c,d){alert("Error : "+e.responseText+" "+c+" "+e.status+" "+d)}})};