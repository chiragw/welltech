
(function(b){var a=200,c="linear";b.fn.extend({toggleLoading:function(e){if(e===undefined){var f=false,d=false}else{var f=e.addClass,d=e.addText}return this.each(function(){var j=b(this),h=b("#loading_"+j.data("loading-id"));if(h.length&&h.is(":visible")){j.stop(true,true).animate({opacity:1},a*0.5,c);h.hide()}else{if(!(h.length)){var k=Math.floor(Math.random()*10000),i='<div class="toggle-loading'+((f)?" "+f:"")+'" id="loading_'+k+'"><span class="icon"></span>'+((d)?'<span class="copy">'+d+"</span>":"")+"</div>",g=j.offset();j.attr("data-loading-id",k).stop(true,true).animate({opacity:0.05},a*0.5,c);b("body").append(i);b("#loading_"+k).css({width:j.width(),height:j.height(),left:g.left,top:g.top}).stop(true,true).show()}else{var g=j.offset();j.stop(true,true).animate({opacity:0.05},a*0.5,c);h.css({width:j.width(),height:j.height(),left:g.left,top:g.top}).show()}}})}})})(jQuery);